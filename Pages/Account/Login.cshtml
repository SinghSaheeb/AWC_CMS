@page "/Login"
@inject SessUser sessUser
@{
    ViewBag.Title = "Login";
    Layout = "_AuthLayout";

    sessUser.ClearAllSessionsAndCookies();
}

<div class="card mb-3">
    <div class="card-body">
        <div class="pt-4 pb-2">
            <h5 class="card-title text-center pb-0 fs-4">Login to Your Account</h5>
            <p class="text-center small">Enter your email and password to log in</p>
        </div>
        <form id="loginForm" class="row g-3" method="post" action="/Login/Authenticate">
            @Html.AntiForgeryToken() <!-- CSRF Token -->
            <!-- Email Field -->
            <div class="col-12">
                <div class="form-floating">
                    <input type="email" id="txtEmail" name="email" class="form-control" placeholder="Enter your email" required maxlength="100" />
                    <label for="txtEmail">Email</label>
                </div>
            </div>

            <!-- Password Field -->
            <div class="col-12">
                <div class="form-floating">
                    <input type="password" id="txtPassword" name="password" class="form-control" placeholder="Enter your password" required minlength="8" maxlength="16" />
                    <label for="txtPassword">Password</label>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="col-12">
                <button class="btn btn-primary w-100" type="submit">Login</button>
            </div>

            <!-- Register Link -->
            <div class="col-12">
                <p class="small mb-0">Don’t have an account? <a href="@Url.Content("/Registration")">Sign up</a></p>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="@Url.Content("~/Pages/Account/Login.cshtml.js")"></script>
}